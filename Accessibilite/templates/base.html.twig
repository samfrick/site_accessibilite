<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <title>{% block title %}Accueil{% endblock %}</title>
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <link rel="stylesheet" href="/css/app.css">
  <script src="/js/menu.js" defer></script>
  <script src="/js/form.js" defer></script>
  {% block stylesheets %}
  {% endblock %}

  {% block javascripts %}
  {% endblock %}
</head>

<body>
  <header>
    {% block header %}
    <a href="#mainContent"
      class="sr-only focus:not-sr-only -translate-x-full focus:absolute focus:top-2 focus:left-2 bg-blue-600 text-white px-4 py-2 rounded">
      Aller au contenu principal
    </a>
<nav class="bg-stone-100 p-4" aria-label="Fil d'Ariane" class="breadcrumb" role="navigation">
  <div class="flex items-center">
    <!-- Titre à gauche -->
    <a href="{{ path('home') }}" class="text-xl font-bold text-gray-900 mr-8">Spécialités culinaires du monde</a>

    <!-- Menu au centre -->
    <ul class="flex space-x-8 ml-auto mr-auto">
      <li class="relative group border-l-0 first:border-l-2 border-l-2 border-[#3ca0e7] pl-4">
        <button type="button" aria-haspopup="true" aria-expanded="false" aria-controls="menu-france"
          class="text-black hover:text-[#3ca0e7] focus:text-[#3ca0e7] font-semibold transition-colors bg-transparent border-0 cursor-pointer">
          France
        </button>
        <ul id="menu-france" role="menu"
          class="absolute left-0 mt-5 min-w-[250px] bg-white rounded shadow-[0_3px_5px_-1px_#ccc] opacity-0 invisible group-hover:visible group-hover:opacity-100 group-focus-within:visible group-focus-within:opacity-100 transition-all duration-300 z-10 pt-5 text-left">
          <li class="mb-5 w-full border-0 clear-both" role="none">
            <a href="{{ path('flams') }}" role="menuitem"
              class="block px-4 py-2 text-gray-800 hover:text-[#3ca0e7] hover:pl-6 hover:border-l-2 hover:border-[#3ca0e7] transition-all duration-300">Flams</a>
          </li>
        </ul>
      </li>
      <li class="relative group border-l-2 border-[#3ca0e7] pl-4">
        <button type="button" aria-haspopup="true" aria-expanded="false" aria-controls="menu-reunion"
          class="text-black hover:text-[#3ca0e7] focus:text-[#3ca0e7] font-semibold transition-colors bg-transparent border-0 cursor-pointer">
          Réunion
        </button>
        <ul id="menu-reunion" role="menu"
          class="absolute left-0 mt-5 min-w-[250px] bg-white rounded shadow-[0_3px_5px_-1px_#ccc] opacity-0 invisible group-hover:visible group-hover:opacity-100 group-focus-within:visible group-focus-within:opacity-100 transition-all duration-300 z-10 pt-5 text-left">
          <li class="mb-5 w-full border-0 clear-both" role="none">
            <a href="{{ path('americain') }}" role="menuitem"
              class="block px-4 py-2 text-gray-800 hover:text-[#3ca0e7] hover:pl-6 hover:border-l-2 hover:border-[#3ca0e7] transition-all duration-300">Américain
              Bouchons</a>
          </li>
        </ul>
      </li>
      <li class="relative group border-l-2 border-[#3ca0e7] pl-4">
        <button type="button" aria-haspopup="true" aria-expanded="false" aria-controls="menu-pologne"
          class="text-black hover:text-[#3ca0e7] focus:text-[#3ca0e7] font-semibold transition-colors bg-transparent border-0 cursor-pointer">
          Pologne
        </button>
        <ul id="menu-pologne" role="menu"
          class="absolute left-0 mt-5 min-w-[250px] bg-white rounded shadow-[0_3px_5px_-1px_#ccc] opacity-0 invisible group-hover:visible group-hover:opacity-100 group-focus-within:visible group-focus-within:opacity-100 transition-all duration-300 z-10 pt-5 text-left">
          <li class="mb-5 w-full border-0 clear-both" role="none">
            <a href="{{ path('pierogi') }}" role="menuitem"
              class="block px-4 py-2 text-gray-800 hover:text-[#3ca0e7] hover:pl-6 hover:border-l-2 hover:border-[#3ca0e7] transition-all duration-300">Pierogi</a>
          </li>
        </ul>
      </li>
      <li class="relative group border-l-2 border-[#3ca0e7] pl-4">
        <button type="button" aria-haspopup="true" aria-expanded="false" aria-controls="menu-maurice"
          class="text-black hover:text-[#3ca0e7] focus:text-[#3ca0e7] font-semibold transition-colors bg-transparent border-0 cursor-pointer">
          Maurice
        </button>
        <ul id="menu-maurice" role="menu"
          class="absolute left-0 mt-5 min-w-[250px] bg-white rounded shadow-[0_3px_5px_-1px_#ccc] opacity-0 invisible group-hover:visible group-hover:opacity-100 group-focus-within:visible group-focus-within:opacity-100 transition-all duration-300 z-10 pt-5 text-left">
          <li class="mb-5 w-full border-0 clear-both" role="none">
            <a href="{{ path('dahl') }}" role="menuitem"
              class="block px-4 py-2 text-gray-800 hover:text-[#3ca0e7] hover:pl-6 hover:border-l-2 hover:border-[#3ca0e7] transition-all duration-300">Dahl
              Puri</a>
          </li>
        </ul>
      </li>
      <li class="relative group border-l-2 border-[#3ca0e7] pl-4">
        <a href="{{ path('contact') }}"
          class="text-black hover:text-[#3ca0e7] focus:text-[#3ca0e7] font-semibold transition-colors">Contact</a>
      </li>
    </ul>

    <form role="search" aria-label="Recherche sur le site" class="max-w-lg w-full ml-6">
      <!-- Étiquette lisible par les lecteurs d'écran -->
      <label for="site-search" class="sr-only">Rechercher sur le site</label>

      <div class="relative flex items-center">
        <!-- Icône loupe (non cliquable) -->
        <span class="absolute left-3 text-gray-500" aria-hidden="true">
          <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z" />
          </svg>
        </span>

        <!-- Champ de recherche -->
        <input type="search" id="site-search" name="q"
          class="block w-[28rem] p-3 pl-10 text-sm text-gray-900 bg-gray-100 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"
          placeholder="Rechercher un plat, un pays..." aria-describedby="search-instructions" />

        <!-- Bouton d'envoi -->
        <button type="submit"
          class="px-5 py-3 text-sm font-medium text-white bg-[#3ca0e7] hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-r-lg">
          Rechercher
        </button>
      </div>

      <!-- Texte invisible pour l’accessibilité -->
      <p id="search-instructions" class="sr-only">
        Tapez votre recherche puis appuyez sur la touche Entrée ou cliquez sur le bouton Rechercher.
      </p>
    </form>

  </div>
</nav>


    {% endblock %}
  </header>

  <main>
    {% block main %}
    {% endblock %}
  </main>

  {% block footer %}
  <footer class="bg-gray-900 text-gray-300 w-full" aria-labelledby="footer-heading">
    <h2 id="footer-heading" class="sr-only">Pied de page</h2>
    
    <div class="max-w-7xl mx-auto px-6 py-12">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-12 pb-8">
        
        <!-- Logo / Description -->
        <div class="space-y-4">
          <h3 class="text-3xl font-bold text-white tracking-tight">
            Spécialités culinaires du monde
          </h3>
          <p class="text-base text-gray-400 leading-relaxed max-w-md">
            Découvrez la nourriture du monde, ses recettes authentiques et ses traditions culinaires ancestrales.
          </p>
        </div>

        <!-- Liens utiles -->
        <div>
          <p class="text-xl font-semibold text-white mb-6 border-b border-gray-700 pb-3" id="footer-links-heading">
            Liens utiles
          </p>
          <nav aria-labelledby="footer-links-heading">
            <ul class="space-y-3">
              <li>
                <a href="{{ path('accesibilite') }}"
                   class="text-gray-300 hover:text-white hover:translate-x-1 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-gray-900 rounded px-2 py-1 inline-block transition-all duration-200">
                   Accessibilité
                </a>
              </li>
              <li>
                <a href="{{ path('cgu') }}"
                   class="text-gray-300 hover:text-white hover:translate-x-1 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-gray-900 rounded px-2 py-1 inline-block transition-all duration-200">
                   Conditions Générales d'Utilisation
                </a>
              </li>
              <li>
                <a href="{{ path('rgpd') }}"
                   class="text-gray-300 hover:text-white hover:translate-x-1 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-gray-900 rounded px-2 py-1 inline-block transition-all duration-200">
                   Protection des données (RGPD)
                </a>
              </li>
              <li>
                <a href="{{ path('mentionslegales') }}"
                   class="text-gray-300 hover:text-white hover:translate-x-1 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-gray-900 rounded px-2 py-1 inline-block transition-all duration-200">
                   Mentions Légales
                </a>
              </li>
              <li>
                <a href="{{ path('plansite') }}"
                   class="text-gray-300 hover:text-white hover:translate-x-1 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-gray-900 rounded px-2 py-1 inline-block transition-all duration-200">
                   Plan du site
                </a>
              </li>
            </ul>
          </nav>
        </div>

      </div>

      <!-- Bas de page / Copyright -->
      <div class="border-t border-gray-700 pt-8 mt-8">
        <p class="text-sm text-gray-400 text-center leading-relaxed">
          © 2025 Salomé FRICK, Célia Hoffmann, Etienne Pongérard, Gruber Marine.<br class="sm:hidden">
          <span class="hidden sm:inline">—</span> Tous droits réservés.
        </p>
      </div>
    </div>
  </footer>
{% endblock %}

<script>
document.querySelectorAll('nav [aria-haspopup="true"]').forEach(button => {
  const menu = document.getElementById(button.getAttribute('aria-controls'));

  // Ouvre/ferme au clavier
  button.addEventListener('keydown', e => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      const isOpen = menu.classList.contains('block');
      menu.classList.toggle('hidden', isOpen);
      menu.classList.toggle('block', !isOpen);
      button.setAttribute('aria-expanded', !isOpen);
    } else if (e.key === 'Escape') {
      button.setAttribute('aria-expanded', 'false');
      menu.classList.add('hidden');
      menu.classList.remove('block');
      button.focus();
    }
  });

  // Ferme le menu si clic à l’extérieur
  document.addEventListener('click', e => {
    if (!button.contains(e.target) && !menu.contains(e.target)) {
      menu.classList.add('hidden');
      menu.classList.remove('block');
      button.setAttribute('aria-expanded', 'false');
    }
  });
});
</script>
</body>

</html>